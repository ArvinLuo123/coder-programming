# :mega: 谢谢关注，内容正在努力加载中...... #
1.进程VS线程？

了解面试者侧重点

进一步展开

进程：

线程+内存+文件/网络句柄

内存：4G/8G,为什么会在进程之中

这里的内存是逻辑内存。指的是内存的寻址空间

每个进程的内存是相互独立的。

否则的话会出现一个问题：

我们把指针的值改一改就指向其他进程的内存了，通过这样就可以看到

微信或者是网上银行的信息，这样的话，就会出现你的微信聊天记录或者是

银行账户的信息就都被找到了，这样是不可能的。

文件/网络句柄：

是所有的进程所共有的，例如打开同一个文件，去抢同一个网络的端口

这样是被允许的。

线程：

栈+PC+TLS

栈：我们通常都是说调用堆栈，其实这里的堆是没有含义的，

调用堆栈就是调用栈的意思。

栈里面有什么呢？

我们从主线程的入口main函数，会不断的进行函数调用，

每次调用的时候，会把所有的参数和返回地址压入到栈中。

PC:Program Counter 程序计数器，操作系统真正运行的是一个个的线程，

而我们的进程只是它的一个容器。PC就是指向当前的指令，这个

指令是放在内存中。每个线程都有一串自己的指针，指向自己当前所在内存的指针。

计算机绝大部分是存储程序性的，说的是我们的数据和程序是存储在同一片内存里的

这个内存中既有我们的数据变量又有我们的程序。所以我们的PC指针就是指向我们的内存的

例如我们经常听到一个漏洞：缓冲区溢出

这是什么意思呢？

例如：我们有个地方要输入用户名，本来是用来存数据的地方。

然后黑客把数据输入的特别长。这个长度超出了我们给数据存储的内存区，这时候跑到了

我们给程序分配的一部分内存中。黑客就可以通过这种办法将他所要运行的代码

写入到用户名框中，来植入进来。我们的解决方法就是，用用户名的长度来限制不要超过

用户名的缓冲区的大小来解决。

TLS:thread local storage

之前我们看到每个进程都有自己独立的内存，这时候我们想，我们的

线程有没有一块独立的内存呢?答案是有的，就是TLS。

可以用来存储我们线程所独有的数据。

可以看到：线程才是我们操作系统所真正去运行的，而进程呢，则是像容器一样

他把需要的一些东西放在了一起，而把不需要的东西做了一层隔离，进行隔离开来。

进程之前的交互？

通过TCPIP 的端口来实现

线程的通信就比较简单，有一大块共享的内存，只要大家的指针是同一个

就可以看到各自的内存。

进程要分配一大部分的内存，而线程只需要分配一部分栈就可以了 
